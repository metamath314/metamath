<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë©”íƒ€ìˆ˜í•™ 2026 ì •ì‹œ ì „ëµ ë¦¬í¬íŠ¸ (ì¬ì›ìƒ ì „ìš©)</title>
    
    <script>
        (function() {
            // ì›ì¥ë‹˜, ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°”ê¾¸ì‹œë ¤ë©´ ì•„ë˜ "meta314"ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.
            const ACCESS_PASSWORD = "meta314"; 
            const sessionKey = "meta_auth_status";

            if (sessionStorage.getItem(sessionKey) !== "true") {
                const userInput = prompt("ğŸ”’ ë©”íƒ€ìˆ˜í•™ ì¬ì›ìƒ ì „ìš© ì‹œìŠ¤í…œì…ë‹ˆë‹¤.\ní•™ì›ì—ì„œ ì•ˆë‚´ë°›ì€ ì¸ì¦ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                
                if (userInput === ACCESS_PASSWORD) {
                    sessionStorage.setItem(sessionKey, "true");
                    alert("âœ… ì¸ì¦ë˜ì—ˆìŠµë‹ˆë‹¤. í™˜ì˜í•©ë‹ˆë‹¤.");
                } else {
                    alert("âŒ ì¸ì¦ ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. í•™ì›ìœ¼ë¡œ ë¬¸ì˜ ë°”ëë‹ˆë‹¤.");
                    window.location.href = "https://www.google.com"; // í‹€ë¦¬ë©´ êµ¬ê¸€ë¡œ ì«“ê²¨ë‚¨
                }
            }
        })();
    </script>

    <style>
        :root { --primary: #0984e3; --stable: #27ae60; --fit: #2980b9; --ambitious: #f39c12; --danger: #e74c3c; }
        body { font-family: 'Malgun Gothic', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; line-height: 1.6; }
        .container { max-width: 1200px; margin: auto; background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); padding: 30px; }
        .header { text-align: center; margin-bottom: 20px; border-bottom: 3px solid var(--primary); padding-bottom: 15px; }
        .header h1 { color: #2d3436; margin: 0; font-size: 28px; }
        .header p { color: #636e72; font-weight: bold; margin-top: 5px; }
        
        /* ì¸ì‡„ ì„¤ì • */
        @media print {
            .no-print { display: none !important; }
            body { background: white; padding: 0; }
            .container { box-shadow: none; border: none; width: 100%; max-width: 100%; padding: 10px; }
            .badge { border: 1px solid #333 !important; color: black !important; background: transparent !important; }
        }

        .score-input { display: flex; justify-content: center; gap: 12px; background: #f8f9fa; padding: 20px; border-radius: 10px; flex-wrap: wrap; margin-bottom: 15px; border: 1px solid #dfe6e9; }
        .input-group { display: flex; flex-direction: column; align-items: center; }
        .input-group label { font-weight: bold; margin-bottom: 5px; color: #2d3436; font-size: 14px; }
        input[type="number"] { width: 80px; padding: 10px; border: 2px solid #ced4da; border-radius: 6px; text-align: center; font-size: 16px; font-weight: bold; }
        input[type="number"]:focus { border-color: var(--primary); outline: none; background: #e1f5fe; }

        .action-btns { display: flex; justify-content: center; gap: 10px; margin-top: 15px; }
        .btn { padding: 12px 30px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .btn-blue { background: var(--primary); color: white; }
        .btn-green { background: var(--stable); color: white; }
        .btn:hover { opacity: 0.9; transform: translateY(-1px); }

        .search-section { margin: 25px 0 10px 0; display: flex; justify-content: center; align-items: center; gap: 10px; }
        #univSearch { width: 350px; padding: 12px 20px; border-radius: 25px; border: 2px solid #dfe6e9; font-size: 15px; transition: 0.3s; }
        #univSearch:focus { width: 400px; border-color: var(--primary); outline: none; }

        .tabs { display: flex; margin-top: 20px; border-bottom: 2px solid #dfe6e9; }
        .tab { padding: 12px 35px; cursor: pointer; font-weight: bold; color: #636e72; background: #f1f2f6; border-radius: 10px 10px 0 0; margin-right: 5px; }
        .tab.active { color: white; background: var(--primary); border-bottom: none; }

        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th { background: #f8f9fa; padding: 12px; border-top: 2px solid #2d3436; border-bottom: 1px solid #ddd; color: #2d3436; }
        td { padding: 12px; border-bottom: 1px solid #eee; text-align: center; }
        
        .badge { padding: 5px 12px; border-radius: 20px; color: white; font-weight: bold; font-size: 12px; min-width: 60px; display: inline-block; }
        .bg-stable { background: var(--stable); }
        .bg-fit { background: var(--fit); }
        .bg-ambitious { background: var(--ambitious); }
        .bg-danger { background: var(--danger); }
        
        .total-box { background: #2d3436; color: white; padding: 15px 25px; border-radius: 8px; display: inline-block; }
        .highlight { color: #ff7675; font-weight: bold; font-size: 26px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ğŸ“ ë©”íƒ€ìˆ˜í•™ 2026 ì •ì‹œ ë¶„ì„ ì‹œìŠ¤í…œ</h1>
        <p>RE-STUDENT EXCLUSIVE ADMISSION STRATEGY</p>
    </div>

    <div class="no-print">
        <div class="score-input">
            <div class="input-group"><label>êµ­ì–´(í‘œì )</label><input type="number" id="kor" value="130"></div>
            <div class="input-group"><label>ìˆ˜í•™(í‘œì )</label><input type="number" id="math" value="135"></div>
            <div class="input-group"><label>ì˜ì–´(ë“±ê¸‰)</label><input type="number" id="eng" value="1" min="1" max="9"></div>
            <div class="input-group"><label>íƒêµ¬1(í‘œì )</label><input type="number" id="t1" value="65"></div>
            <div class="input-group"><label>íƒêµ¬2(í‘œì )</label><input type="number" id="t2" value="60"></div>
        </div>
        
        <div class="search-section">
            <input type="text" id="univSearch" placeholder="ğŸ” ëŒ€í•™ëª… ë˜ëŠ” í•™ê³¼ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" onkeyup="runAnalysis()">
        </div>

        <div class="action-btns">
            <button class="btn btn-blue" onclick="runAnalysis()">ğŸ“Š ì‹¤ì‹œê°„ ë¶„ì„ ê²°ê³¼ë³´ê¸°</button>
            <button class="btn btn-green" onclick="window.print()">ğŸ–¨ï¸ ê²°ê³¼ ë¦¬í¬íŠ¸ ì¶œë ¥í•˜ê¸°</button>
        </div>
    </div>

    <div style="text-align: right; margin: 20px 0;">
        <div class="total-box">
            ë‚´ ì ìˆ˜ ì´í•©: <span id="totalDisplay" class="highlight">0</span> ì 
        </div>
    </div>

    <div class="tabs no-print">
        <div id="tab-ê°€" class="tab active" onclick="changeTab('ê°€')">ê°€êµ° ëŒ€í•™</div>
        <div id="tab-ë‚˜" class="tab" onclick="changeTab('ë‚˜')">ë‚˜êµ° ëŒ€í•™</div>
        <div id="tab-ë‹¤" class="tab" onclick="changeTab('ë‹¤')">ë‹¤êµ° ëŒ€í•™</div>
    </div>

    <table>
        <thead>
            <tr>
                <th>ëŒ€í•™ëª…</th>
                <th>ëª¨ì§‘ë‹¨ìœ„</th>
                <th>êµ­/ìˆ˜/ì˜/íƒ ë¹„ìœ¨</th>
                <th>ì˜ˆìƒ ì»·</th>
                <th>ë‚´ ì ìˆ˜</th>
                <th>ì°¨ì´</th>
                <th>íŒì •</th>
            </tr>
        </thead>
        <tbody id="resultBody">
            <tr><td colspan="7">ë¶„ì„ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</td></tr>
        </tbody>
    </table>
    
    <div style="margin-top:30px; border-top:1px solid #eee; padding-top:10px; color:#636e72; font-size:12px;">
        <p>â€» ë³¸ ë°ì´í„°ëŠ” ë¹„ìƒêµìœ¡ ë° ì´íˆ¬ìŠ¤ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë©”íƒ€ìˆ˜í•™ì—ì„œ ì¬ê°€ê³µí•œ ìë£Œì…ë‹ˆë‹¤. ìµœì¢… ì›ì„œ ì ‘ìˆ˜ ì „ ë°˜ë“œì‹œ ëŒ€í•™ë³„ ëª¨ì§‘ìš”ê°•ì„ ì¬í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
    </div>
</div>

<script src="database.js"></script>

<script>
    let currentGroup = 'ê°€';

    function changeTab(g) {
        currentGroup = g;
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.getElementById('tab-' + g).classList.add('active');
        runAnalysis();
    }

    function runAnalysis() {
        if (typeof database === 'undefined') {
            alert("ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. database.js íŒŒì¼ì´ ì—…ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.");
            return;
        }

        const kor = parseInt(document.getElementById('kor').value) || 0;
        const math = parseInt(document.getElementById('math').value) || 0;
        const t1 = parseInt(document.getElementById('t1').value) || 0;
        const t2 = parseInt(document.getElementById('t2').value) || 0;
        const searchKeyword = document.getElementById('univSearch').value.toLowerCase();
        const mySum = kor + math + t1 + t2;

        document.getElementById('totalDisplay').innerText = mySum;
        const body = document.getElementById('resultBody');
        body.innerHTML = '';

        // ìˆ˜í•™/êµ­ì–´ ê°•ì  ì •ë ¬ ë¡œì§
        const isMathStrong = math >= kor;
        let filtered = database.filter(d => 
            d.group === currentGroup && 
            (d.univ.toLowerCase().includes(searchKeyword) || d.dept.toLowerCase().includes(searchKeyword))
        );
        
        if (isMathStrong) {
            filtered.sort((a, b) => (b.mr || 0) - (a.mr || 0));
        } else {
            filtered.sort((a, b) => (b.kr || 0) - (a.kr || 0));
        }

        if (filtered.length === 0) {
            body.innerHTML = '<tr><td colspan="7" style="padding:50px;">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ê²€ìƒ‰ì–´ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ë‹¤ë¥¸ êµ°ì„ ì„ íƒí•´ë³´ì„¸ìš”.</td></tr>';
            return;
        }

        // ì„±ëŠ¥ì„ ìœ„í•´ ìƒìœ„ 200ê°œê¹Œì§€ë§Œ í‘œì‹œ (ì¸ì‡„ ê³ ë ¤)
        filtered.slice(0, 200).forEach(item => {
            const diff = mySum - item.cut;
            let resultTxt, badgeClass;

            if (diff >= 5) { resultTxt = "ì•ˆì •"; badgeClass = "bg-stable"; }
            else if (diff >= -1) { resultTxt = "ì ì •"; badgeClass = "bg-fit"; }
            else if (diff >= -6) { resultTxt = "ì†Œì‹ "; badgeClass = "bg-ambitious"; }
            else { resultTxt = "ìœ„í—˜"; badgeClass = "bg-danger"; }

            const row = `<tr>
                <td style="font-weight:bold;">${item.univ}</td>
                <td>${item.dept}</td>
                <td style="color:#636e72;">${item.ratio || '-'}</td>
                <td style="color:#2d3436;">${item.cut}</td>
                <td style="font-weight:bold;">${mySum}</td>
                <td style="font-weight:bold; color:${diff >= 0 ? 'blue' : 'red'}">${diff > 0 ? '+' + diff : diff}</td>
                <td><span class="badge ${badgeClass}">${resultTxt}</span></td>
            </tr>`;
            body.innerHTML += row;
        });
    }

    // ìë™ ì‹¤í–‰
    window.onload = function() {
        if (typeof database !== 'undefined') runAnalysis();
    };
</script>

</body>
</html>