<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë©”íƒ€ìˆ˜í•™ 2026 ì •ì‹œ ì „ëµ ë¦¬í¬íŠ¸</title>
    <style>
        :root { --primary: #0984e3; --stable: #27ae60; --fit: #2980b9; --ambitious: #f39c12; --danger: #e74c3c; }
        body { font-family: 'Malgun Gothic', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: auto; background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); padding: 30px; }
        .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 15px; }
        
        /* ì¸ì‡„ ì‹œ ë¶ˆí•„ìš”í•œ ìš”ì†Œ ìˆ¨ê¸°ê¸° */
        @media print {
            .no-print { display: none !important; }
            body { background: white; padding: 0; }
            .container { box-shadow: none; border: none; width: 100%; max-width: 100%; }
            .badge { border: 1px solid #ccc !important; color: black !important; }
        }

        .score-input { display: flex; justify-content: center; gap: 15px; background: #f8f9fa; padding: 20px; border-radius: 10px; flex-wrap: wrap; margin-bottom: 15px; }
        .input-group { display: flex; flex-direction: column; align-items: center; }
        input { width: 85px; padding: 10px; border: 2px solid #dfe6e9; border-radius: 6px; text-align: center; font-size: 16px; }
        
        .action-btns { display: flex; justify-content: center; gap: 10px; margin-top: 15px; }
        .btn { padding: 12px 25px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.3s; }
        .btn-blue { background: var(--primary); color: white; }
        .btn-green { background: var(--stable); color: white; }

        .search-section { margin: 20px 0; display: flex; justify-content: center; }
        #univSearch { width: 300px; padding: 10px; border-radius: 20px; border: 1px solid #ddd; text-align: center; }

        .tabs { display: flex; margin-top: 20px; border-bottom: 2px solid #dfe6e9; }
        .tab { padding: 12px 25px; cursor: pointer; font-weight: bold; color: #636e72; }
        .tab.active { color: var(--primary); border-bottom: 3px solid var(--primary); background: #e1f5fe; }

        table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 13px; }
        th { background: #f8f9fa; padding: 10px; border-bottom: 2px solid #ddd; }
        td { padding: 10px; border-bottom: 1px solid #eee; text-align: center; }
        
        .badge { padding: 4px 10px; border-radius: 15px; color: white; font-weight: bold; font-size: 11px; display: inline-block; }
        .bg-stable { background: var(--stable); }
        .bg-fit { background: var(--fit); }
        .bg-ambitious { background: var(--ambitious); }
        .bg-danger { background: var(--danger); }
        .highlight { color: #e74c3c; font-weight: bold; font-size: 20px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ğŸ“ ë©”íƒ€ìˆ˜í•™ ì •ì‹œ í•©ê²© ì „ëµ ë¦¬í¬íŠ¸</h1>
        <p>ì¬ì›ìƒ ì „ìš© ì •ë°€ ë§¤ì¹­ ë¶„ì„ ê²°ê³¼</p>
    </div>

    <div class="no-print">
        <div class="score-input">
            <div class="input-group"><label>êµ­ì–´</label><input type="number" id="kor" value="130"></div>
            <div class="input-group"><label>ìˆ˜í•™</label><input type="number" id="math" value="135"></div>
            <div class="input-group"><label>ì˜ì–´</label><input type="number" id="eng" value="1"></div>
            <div class="input-group"><label>íƒ1</label><input type="number" id="t1" value="65"></div>
            <div class="input-group"><label>íƒêµ¬2</label><input type="number" id="t2" value="60"></div>
        </div>
        
        <div class="search-section">
            <input type="text" id="univSearch" placeholder="ğŸ” ëŒ€í•™ëª… ê²€ìƒ‰ (ì˜ˆ: ì¤‘ì•™ëŒ€)" onkeyup="runAnalysis()">
        </div>

        <div class="action-btns">
            <button class="btn btn-blue" onclick="runAnalysis()">ğŸš€ ë¶„ì„ ê²°ê³¼ ì—…ë°ì´íŠ¸</button>
            <button class="btn btn-green" onclick="window.print()">ğŸ–¨ï¸ ë¶„ì„ ê²°ê³¼ ì¶œë ¥/ë‹¤ìš´ë¡œë“œ</button>
        </div>
    </div>

    <div style="text-align: right; margin-top: 15px;">
        <span style="font-size: 16px;">ë¶„ì„ ê¸°ì¤€ ì´ì : <span id="totalDisplay" class="highlight">0</span> ì </span>
    </div>

    <div class="tabs no-print">
        <div id="tab-ê°€" class="tab active" onclick="changeTab('ê°€')">ê°€êµ°</div>
        <div id="tab-ë‚˜" class="tab" onclick="changeTab('ë‚˜')">ë‚˜êµ°</div>
        <div id="tab-ë‹¤" class="tab" onclick="changeTab('ë‹¤')">ë‹¤êµ°</div>
    </div>

    <table id="targetTable">
        <thead>
            <tr>
                <th>ëŒ€í•™ëª…</th>
                <th>ëª¨ì§‘ë‹¨ìœ„</th>
                <th>ë°˜ì˜ë¹„ìœ¨</th>
                <th>í•©ê²©ì»·</th>
                <th>ë‚´ì ìˆ˜</th>
                <th>ì°¨ì´</th>
                <th>íŒì •</th>
            </tr>
        </thead>
        <tbody id="resultBody"></tbody>
    </table>
    
    <p class="no-print" style="color:#7f8c8d; font-size:12px; margin-top:20px; text-align:center;">
        * ë³¸ ê²°ê³¼ëŠ” ì…ë ¥í•˜ì‹  ê°€ì±„ì /ìˆ˜ëŠ¥ ì ìˆ˜ ê¸°ë°˜ì´ë©°, ëŒ€í•™ë³„ ì‹¤ì œ í™˜ì‚° ë°©ì‹ì— ë”°ë¼ ì˜¤ì°¨ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>
</div>

<script src="database.js"></script>
<script>
    let currentGroup = 'ê°€';

    function changeTab(g) {
        currentGroup = g;
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.getElementById('tab-' + g).classList.add('active');
        runAnalysis();
    }

    function runAnalysis() {
        if (typeof database === 'undefined') return;

        const kor = parseInt(document.getElementById('kor').value) || 0;
        const math = parseInt(document.getElementById('math').value) || 0;
        const t1 = parseInt(document.getElementById('t1').value) || 0;
        const t2 = parseInt(document.getElementById('t2').value) || 0;
        const searchKeyword = document.getElementById('univSearch').value.toLowerCase();
        const mySum = kor + math + t1 + t2;

        document.getElementById('totalDisplay').innerText = mySum;
        const body = document.getElementById('resultBody');
        body.innerHTML = '';

        const isMathStrong = math >= kor;
        let filtered = database.filter(d => d.group === currentGroup && (d.univ.toLowerCase().includes(searchKeyword) || d.dept.toLowerCase().includes(searchKeyword)));
        
        // ì •ë ¬
        if (isMathStrong) filtered.sort((a, b) => (b.mr || 0) - (a.mr || 0));
        else filtered.sort((a, b) => (b.kr || 0) - (a.kr || 0));

        filtered.slice(0, 150).forEach(item => { // ì„±ëŠ¥ì„ ìœ„í•´ ìƒìœ„ 150ê°œë§Œ ì¶œë ¥
            const diff = mySum - item.cut;
            let resultTxt, badgeClass;
            if (diff >= 5) { resultTxt = "ì•ˆì •"; badgeClass = "bg-stable"; }
            else if (diff >= -1) { resultTxt = "ì ì •"; badgeClass = "bg-fit"; }
            else if (diff >= -6) { resultTxt = "ì†Œì‹ "; badgeClass = "bg-ambitious"; }
            else { resultTxt = "ìœ„í—˜"; badgeClass = "bg-danger"; }

            const row = `<tr>
                <td>${item.univ}</td>
                <td>${item.dept}</td>
                <td>${item.ratio || '-'}</td>
                <td>${item.cut}</td>
                <td>${mySum}</td>
                <td style="font-weight:bold; color:${diff >= 0 ? 'blue' : 'red'}">${diff > 0 ? '+' + diff : diff}</td>
                <td><span class="badge ${badgeClass}">${resultTxt}</span></td>
            </tr>`;
            body.innerHTML += row;
        });
    }
    window.onload = function() { if (typeof database !== 'undefined') runAnalysis(); };
</script>
</body>
</html>